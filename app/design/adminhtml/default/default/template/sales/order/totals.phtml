<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category   design_default
 * @package    Mage
 * @copyright  Copyright (c) 2008 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
?>
<?php $_source  = $this->getSource() ?>
<?php $this->setPriceDataObject($_source) ?>
<?php $_currency= $this->getCurrency() ?>
<?php if ($_source): ?>
<table cellspacing="0" width="100%">
    <tfoot>
        <tr>
            <td class="label">
                <strong><big>
                <?php if ($this->getGrandTotalTitle()): ?>
                    <?php echo $this->getGrandTotalTitle() ?>
                <?php else: ?>
                    <?php echo Mage::helper('sales')->__('Grand Total') ?>
                <?php endif; ?>
                </big></strong>
            </td>
            <td class="emph"><big><?php echo $this->displayPriceAttribute('grand_total', true) ?></big></td>
        </tr>
        <?php if ($this->getCanDisplayTotalPaid()): ?>
        <tr>
            <td class="label"><strong><?php echo Mage::helper('sales')->__('Total Paid') ?></strong></td>
            <td class="emph"><?php echo $this->displayPriceAttribute('total_paid', true) ?>
            </td>
        </tr>
        <?php endif; ?>
        <?php if ($this->getCanDisplayTotalRefunded()): ?>
        <tr>
            <td class="label"><strong><?php echo Mage::helper('sales')->__('Total Refunded') ?></strong></td>
            <td class="emph"><?php echo $this->displayPriceAttribute('total_refunded', true) ?></td>
        </tr>
        <?php endif; ?>
        <?php if ($this->getCanDisplayTotalDue()): ?>
        <tr>
            <td class="label"><big><strong><?php echo Mage::helper('sales')->__('Total Due', true) ?></strong></big></td>
            <td class="emph"><big><?php echo $this->displayPriceAttribute('total_due', true) ?></big></td>
        </tr>
        <?php endif; ?>
    </tfoot>
    <tbody>
        <?php if ((float) $_source->getSubtotal()): ?>
        <tr>
            <td class="label"><?php echo Mage::helper('sales')->__('Subtotal') ?></td>
            <td><?php echo $this->displayPriceAttribute('subtotal') ?></td>
        </tr>
        <?php endif; ?>
        <?php if ((float) $_source->getTaxAmount()): ?>
            <?php if ($this->getChild('order_totals_tax')): ?>
                <?php echo $this->getChildHtml('order_totals_tax'); ?>
            <?php else: ?>
            <tr>
                <td class="label"><?php echo Mage::helper('sales')->__('Tax') ?></td>
                <td><?php echo $this->displayPriceAttribute('tax_amount') ?></td>
            </tr>
            <?php endif; ?>
        <?php endif; ?>

        <?php if ((float) $_source->getShippingAmount() || $_source->getShippingDescription()): ?>
        <tr>
            <td class="label"><?php echo Mage::helper('sales')->__('Shipping &amp; Handling') ?></td>
            <td><?php echo $this->displayPriceAttribute('shipping_amount') ?></td>
        </tr>
        <?php endif; ?>
        <?php if ((float) $_source->getDiscountAmount()): ?>
        <tr>
            <td class="label">
                <?php if ($_source->getCouponCode()): ?>
                    <?php echo Mage::helper('sales')->__('Discount (%s)', $_source->getCouponCode()) ?>
                <?php else: ?>
                    <?php echo Mage::helper('sales')->__('Discount') ?>
                <?php endif; ?>
            </td>
            <td><?php echo $this->displayPriceAttribute('discount_amount') ?></td>
        </tr>
        <?php endif; ?>

        <?php if ((float) $_source->getGiftcertAmount()): ?>
        <tr>
            <td class="label"><?php echo Mage::helper('sales')->__('Gift Certificate') ?></td>
            <td><?php echo $this->displayPriceAttribute('giftcert_amount') ?></td>
        </tr>
        <?php endif; ?>

        <?php if ((float) $_source->getAdjustmentPositive()): ?>
        <tr>
            <td class="label"><?php echo Mage::helper('sales')->__('Adjustment Refund') ?></td>
            <td><?php echo $this->displayPriceAttribute('adjustment_positive') ?></td>
        </tr>
        <?php endif; ?>

        <?php if ((float) $_source->getAdjustmentNegative()): ?>
        <tr>
            <td class="label"><?php echo Mage::helper('sales')->__('Adjustment Fee') ?></td>
            <td><?php echo $this->displayPriceAttribute('adjustment_negative') ?></td>
        </tr>
        <?php endif; ?>
    </tbody>
</table>
<?php endif; ?>