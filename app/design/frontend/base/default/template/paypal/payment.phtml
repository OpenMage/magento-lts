<?php

/**
 * @copyright  For copyright and license information, read the COPYING.txt file.
 * @link       /COPYING.txt
 * @license    Open Software License (OSL 3.0)
 * @package    Mage_Paypal
 */

/**
 * @var Mage_Paypal_Block_Form $this
 */
?>

<script type="text/javascript">
    new PayPalPayment(
        <?php echo json_encode([
            'formKey' => $this->getFormKey(),
            'methodCode' => $this->getMethodCode(),
            'sdkUrl' => $this->getSdkUrl(),
            'buttonLayout' => $this->getButtonConfig()['layout'],
            'buttonColor' => $this->getButtonConfig()['color'],
            'buttonShape' => $this->getButtonConfig()['shape'],
            'buttonLabel' => $this->getButtonConfig()['label'],
            'buttonMessage' => (bool)$this->getButtonConfig()['message'],
            'createOrderUrl' => $this->getUrl('paypal/payment/create'),
            'captureUrl' => $this->getUrl('paypal/payment/process'),
            'placeOrderUrl' => $this->getUrl('paypal/payment/placeOrder'),
            'cancelUrl' => $this->getUrl('paypal/payment/cancel'),
            'errorMessage' => $this->__('An error occurred while processing your payment. Please try again.'),
            'containerId' => 'paypal-button-container',
            'reviewButtonContainerId' => 'review-buttons-container'
        ], JSON_HEX_TAG | JSON_HEX_APOS | JSON_HEX_QUOT | JSON_HEX_AMP) ?>);
</script>
