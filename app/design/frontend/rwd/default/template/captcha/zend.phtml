<?php
/**
 * OpenMage
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available at https://opensource.org/license/afl-3-0-php
 *
 * @category    design
 * @package     rwd_default
 * @copyright   Copyright (c) 2006-2020 Magento, Inc. (https://www.magento.com)
 * @copyright   Copyright (c) 2021-2022 The OpenMage Contributors (https://www.openmage.org)
 * @license     https://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php /* @var $this Mage_Core_Block_Captcha_Zend */ ?>

<?php /* @var $captcha Mage_Core_Model_Captcha_Zend */ ?>
<?php $captcha = $this->getCaptchaModel() ?>
<li class="captcha-input-container" id="captcha-input-box-<?php echo $this->getFormId()?>">
    <label for="captcha_<?= $this->getFormId() ?>" class="required"><em>*</em><?php echo $this->__('Please type the letters below')?></label>
    <div class="input-box captcha">
        <input name="<?= Mage_Captcha_Helper_Data::INPUT_NAME_FIELD_VALUE ?>[<?= $this->getFormId()?>]" type="text" class="input-text required-entry" id="captcha_<?php echo $this->getFormId() ?>" />
    </div>
</li>
<li class="captcha-img-container">
    <div class="captcha-image" id="captcha-image-box-<?php echo $this->getFormId()?>">
        <img id="captcha-reload" class="captcha-reload" src="<?= $this->getSkinUrl('images/reload.png') ?>" alt="<?= Mage::helper('core')->quoteEscape($this->__('Reload captcha')) ?>" onclick="$('<?php echo $this->getFormId()?>').captcha.refresh(this)">
        <img id="<?= $this->getFormId() ?>" class="captcha-img" height="<?= $this->getImgHeight() ?>" src="<?= $captcha->getImgSrc() ?>"/>
        <?php if ($captcha->isCaseSensitive()) :?>
            <div class="captcha-note">
                <?= $this->__('<strong>Attention</strong>: Captcha is case sensitive.') ?>
            </div>
        <?php endif ?>
    </div>
    <script type="text/javascript">//<![CDATA[
        $('<?= $this->getFormId() ?>').captcha = new Captcha('<?= $this->getRefreshUrl() ?>', '<?= $this->getFormId() ?>');
        //]]></script>
</li>

