<?xml version="1.0"?>
<ruleset name="OpenMage" namespace="OpenMage\CS\Standard">
    <file>api.php</file>
    <file>cron.php</file>
    <file>get.php</file>
    <file>index.php</file>
    <file>install.php</file>
    <file>app/Mage.php</file>
    <file>app/code/core/Mage/</file>
    <file>errors/</file>
    <file>lib/Mage/</file>
    <file>lib/Magento/</file>
    <file>lib/Varien/</file>
    <file>shell/</file>

    <rule ref="Ecg">
        <exclude name="Ecg.Security.LanguageConstruct.ExitUsage"/>
    </rule>
    <!-- @todo check for performance! -->
    <rule ref="Ecg.Performance.Loop.ModelLSD">
        <exclude-pattern>*/core/Mage/*/data/*</exclude-pattern>
        <exclude-pattern>*/core/Mage/*/sql/*</exclude-pattern>
    </rule>
    <rule ref="Ecg.Classes.Mysql4.Found">
        <exclude-pattern>*/core/Mage/Catalog/Model/Resource/Eav/Mysql4/**.php*</exclude-pattern>
        <exclude-pattern>*/core/Mage/Install/Block/Db/Type/Mysql4.php*</exclude-pattern>
        <exclude-pattern>*/core/Mage/Install/Model/Installer/Db/Mysql4.php*</exclude-pattern>
        <!-- remove when MySql4 classes are removed -->
        <exclude-pattern>*/core/Mage/*/Model/Mysql4/**.php*</exclude-pattern>
        <!-- resource helpers - keep -->
        <exclude-pattern>*/core/Mage/*/Model/Resource/Helper/Mysql4.php*</exclude-pattern>
    </rule>
</ruleset>
